{"version":3,"file":"input-deep-search.js","sources":["ng://input-deep-search/src/app/input-search-directive/decorators.ts","ng://input-deep-search/src/app/input-search-directive/input-search.directive.ts","ng://input-deep-search/src/app/input-search-directive/input-search-directive.module.ts","ng://input-deep-search/input-deep-search.ts"],"sourcesContent":["export function debounce(delay: number = 700): MethodDecorator {\r\n    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\r\n      let timeout = null\r\n  \r\n      const original = descriptor.value;\r\n  \r\n      descriptor.value = function (...args) {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => original.apply(this, args), delay);\r\n      };\r\n  \r\n      return descriptor;\r\n    };\r\n  }","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\r\nimport { debounce } from './decorators';\r\n\r\n@Directive({\r\n  selector: '[appInputSearch]'\r\n})\r\nexport class InputSearchDirective {\r\n\r\n  constructor() { }\r\n  searchTextData: string; \r\n  @Input('jsonData') jsonData: any[];\r\n  @Input('dataProperties') dataProperties: any[];\r\n  @Input('searchText')\r\n  set searchText(searchInput) {\r\n    this.searchTextData = searchInput.replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '').toLowerCase();\r\n  }\r\n  @Output() filteredData = new EventEmitter();\r\n  @HostListener('window:keyup', ['$event'])\r\n  @debounce() \r\n  onInputsearch(event) {\r\n    let resultData = [];\r\n    for(var j = 0; j< this.jsonData.length ;j++) {\r\n      if(this.getObject(this.jsonData[j], this.searchTextData, this.dataProperties)) {\r\n        resultData.push(this.jsonData[j]);\r\n      }\r\n    }\r\n    this.filteredData.emit(resultData);\r\n}\r\n  getObject(inputObject, searchData, dataProperties) {\r\n    var result = null;\r\n    if(inputObject instanceof Array) {\r\n        for(var i = 0; i < inputObject.length; i++) {\r\n            result = this.getObject(inputObject[i], searchData, dataProperties);\r\n        }\r\n    }\r\n    else\r\n    {\r\n        for(var prop in inputObject) {\r\n            if(dataProperties.includes(prop)) {\r\n                if(inputObject[prop].replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '').toLowerCase().includes(searchData)) {\r\n                    return true;\r\n                }\r\n            }\r\n            if(inputObject[prop] instanceof Object || inputObject[prop] instanceof Array)\r\n                result = this.getObject(inputObject[prop], searchData, dataProperties);\r\n        }\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InputSearchDirective } from './input-search.directive';\r\n\r\n@NgModule({\r\n  declarations: [ InputSearchDirective ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [ InputSearchDirective ]\r\n})\r\nexport class InputSearchDirectiveModule { }\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {debounce as Éµb} from './src/app/input-search-directive/decorators';\nexport {InputSearchDirective as Éµa} from './src/app/input-search-directive/input-search.directive';"],"names":["tslib_1.__decorate"],"mappings":"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"}