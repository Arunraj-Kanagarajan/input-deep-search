{"version":3,"file":"input-deep-search.js","sources":["ng://input-deep-search/src/app/input-search-directive/decorators.ts","ng://input-deep-search/src/app/input-search-directive/input-search.directive.ts","ng://input-deep-search/src/app/input-search-directive/input-search-directive.module.ts","ng://input-deep-search/input-deep-search.ts"],"sourcesContent":["export function debounce(delay: number = 700): MethodDecorator {\n    return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n      let timeout = null\n  \n      const original = descriptor.value;\n  \n      descriptor.value = function (...args) {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => original.apply(this, args), delay);\n      };\n  \n      return descriptor;\n    };\n  }","import { Directive, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { debounce } from './decorators';\n\n@Directive({\n  selector: '[appInputSearch]'\n})\nexport class InputSearchDirective {\n\n  constructor() { }\n  searchTextData: string; \n  @Input('jsonData') jsonData: any[];\n  @Input('dataProperties') dataProperties: any[];\n  @Input('searchText')\n  set searchText(searchInput) {\n    this.searchTextData = searchInput.replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '').toLowerCase();\n  }\n  @Output() filteredData = new EventEmitter();\n  @HostListener('window:keyup', ['$event'])\n  @debounce() \n  onInputsearch(event) {\n    let resultData = [];\n    for(var j = 0; j< this.jsonData.length ;j++) {\n      if(this.getObject(this.jsonData[j], this.searchTextData, this.dataProperties)) {\n        resultData.push(this.jsonData[j]);\n      }\n    }\n    this.filteredData.emit(resultData);\n}\n  getObject(inputObject, searchData, dataProperties) {\n    var result = null;\n    if(inputObject instanceof Array) {\n        for(var i = 0; i < inputObject.length; i++) {\n            result = this.getObject(inputObject[i], searchData, dataProperties);\n        }\n    }\n    else\n    {\n        for(var prop in inputObject) {\n            if(dataProperties.includes(prop)) {\n                if(inputObject[prop].replace(/[`~!@#$%^&*()_|+\\-=?;:'\",.<>\\{\\}\\[\\]\\\\\\/]/gi, '').toLowerCase().includes(searchData)) {\n                    return true;\n                }\n            }\n            if(inputObject[prop] instanceof Object || inputObject[prop] instanceof Array)\n                result = this.getObject(inputObject[prop], searchData, dataProperties);\n        }\n    }\n    return result;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { InputSearchDirective } from './input-search.directive';\n\n@NgModule({\n  declarations: [ InputSearchDirective ],\n  imports: [\n    CommonModule\n  ],\n  exports: [ InputSearchDirective ]\n})\nexport class InputSearchDirectiveModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {debounce as Éµb} from './src/app/input-search-directive/decorators';\nexport {InputSearchDirective as Éµa} from './src/app/input-search-directive/input-search.directive';"],"names":["tslib_1.__decorate"],"mappings":"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"}